{
    "aggs": {
        "filter_ym": {
            "filter": {
                "term": {
                    "year": 2014,
                    "month": 4
                }
            },

            "aggs": {
                "range_division": {
                    "range": {
                        "field": "Price",
                        "ranges": [
                            {"to": 100},
                            {"from": 100, "to": 200},
                            {"from": 200, "to": 300},
                            {"from": 300, "to": 400},
                            {"from": 400, "to": 500},
                            {"from": 500, "to": 600},
                            {"from": 600, "to": 700},
                            {"from": 700, "to": 800},
                            {"from": 800, "to": 900},
                            {"from": 900, "to": 1000},
                            {"from": 1000}
                        ]
                    },

                    "aggs": {
                        "terms_type": {
                            "terms": {
                                "field": "Type"
                            },

                            "aggs": {
                                "sum_sales": {
                                    "sum": {
                                        "field": "TotalGrossSales"
                                    }
                                }
                            }
                        }
                    }

                }
            }
        }
    }
}
